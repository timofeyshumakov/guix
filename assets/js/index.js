const introductionVideo=document.getElementById("introductionVideo"),portfolioVideo=document.querySelector(".portfolio-card__img"),observer=new IntersectionObserver(o=>{o.forEach(o=>{o.isIntersecting&&(o.target.play(),observer.unobserve(o.target))})},{threshold:.5}),muteButton=(observer.observe(introductionVideo),observer.observe(portfolioVideo),document.getElementById("muteButton")),muteButtonTxt=["Включить звук","Выключить звук"],portfolioCards=(muteButton.addEventListener("click",()=>{introductionVideo.muted=!introductionVideo.muted,introductionVideo.muted?(muteButton.setAttribute("aria-label",muteButtonTxt[0]),muteButton.setAttribute("title",muteButtonTxt[0]),muteButton.querySelector(".introduction__element-img").src=imgPatch+"common/mute.svg"):(muteButton.setAttribute("aria-label",muteButtonTxt[1]),muteButton.setAttribute("title",muteButtonTxt[1]),muteButton.querySelector(".introduction__element-img").src=imgPatch+"common/sound.svg")}),document.querySelectorAll(".video__play").forEach(t=>{t.addEventListener("click",()=>{var o=t.closest(".video").querySelector(".video__img");o.paused?(document.querySelectorAll(".video__img").forEach(o=>{o.pause(),o.closest(".video").querySelector(".video__play-img").src=imgPatch+"common/play.svg"}),o.play(),t.querySelector(".video__play-img").src=imgPatch+"common/pause.svg"):(o.pause(),t.querySelector(".video__play-img").src=imgPatch+"common/play.svg")})}),document.getElementsByClassName("portfolio__card-container")),portfolioSlider=document.querySelector(".portfolio__body");let currentPortfolioCard=0,isPortfolioClicked=!1,portfolioInitialPosition="translateX(0)",portfolioFinishPosition=0,portfolioStartPosition=0,portfolioPosX=0;function portfolioPreviousCard(){if(0!==currentPortfolioCard){for(currentPortfolioCard--,portfolioInitialPosition=`translateX(-${currentPortfolioCard}00%)`,i=0;i<portfolioCards.length;i++)portfolioCards[i].style.transform=`translateX(-${currentPortfolioCard}00%)`,portfolioCards[i].classList.remove("portfolio-card-focused");portfolioCards[currentPortfolioCard].classList.add("portfolio-card-focused"),portfolioCards[currentPortfolioCard+1].querySelector("video")&&portfolioCards[currentPortfolioCard+1].querySelector("video").pause(),portfolioCards[currentPortfolioCard].querySelector("video")&&portfolioCards[currentPortfolioCard].querySelector("video").play()}}function portfolioNextCard(){if(!(currentPortfolioCard>=portfolioCards.length-1)){for(currentPortfolioCard++,portfolioInitialPosition=`translateX(-${currentPortfolioCard}00%)`,i=0;i<portfolioCards.length;i++)portfolioCards[i].style.transform=`translateX(-${currentPortfolioCard}00%)`,portfolioCards[i].classList.remove("portfolio-card-focused");portfolioCards[currentPortfolioCard].classList.add("portfolio-card-focused"),portfolioCards[currentPortfolioCard-1].querySelector("video")&&portfolioCards[currentPortfolioCard-1].querySelector("video").pause(),portfolioCards[currentPortfolioCard].querySelector("video")&&portfolioCards[currentPortfolioCard].querySelector("video").play()}}function portfolioMoveFunction(){if(isPortfolioClicked&&(portfolioCW=portfolioSlider.offsetWidth,p=100*(currentPortfolioCard+(portfolioFinishPosition-portfolioPosX)/portfolioCW),currentPortfolioCard<portfolioCards.length))for(i=0;i<portfolioCards.length;i++)0<p?portfolioCards[i].style.transform=`translateX(-${p}%)`:portfolioCards[i].style.transform=`translateX(${-p}%)`}function portfolioSliderFunction(){if(portfolioFinishPosition-=portfolioPosX,0===currentPortfolioCard||currentPortfolioCard===portfolioCards.length-1)for(i=0;i<portfolioCards.length;i++)portfolioCards[i].style.transform=portfolioInitialPosition;if(0!==portfolioPosX)if(75<portfolioFinishPosition)portfolioNextCard();else if(portfolioFinishPosition<-75)portfolioPreviousCard();else for(i=0;i<portfolioCards.length;i++)portfolioCards[i].style.transform=portfolioInitialPosition;isPortfolioClicked=!1,portfolioFinishPosition=0,portfolioPosX=0}portfolioSlider.addEventListener("mousedown",function(o){portfolioFinishPosition=o.pageX,isPortfolioClicked=!0}),portfolioSlider.addEventListener("touchstart",function(o){portfolioFinishPosition=o.touches[0].pageX,isPortfolioClicked=!0}),portfolioSlider.addEventListener("mousemove",function(o){portfolioPosX=o.pageX,portfolioMoveFunction()}),portfolioSlider.addEventListener("touchmove",function(o){portfolioPosX=o.touches[0].pageX,portfolioMoveFunction()}),portfolioSlider.addEventListener("mouseup",function(o){isPortfolioClicked=!1,portfolioSliderFunction()}),portfolioSlider.addEventListener("touchend",function(o){isPortfolioClicked=!1,portfolioSliderFunction()});const testimonialsCards=document.getElementsByClassName("testimonials__video-container"),testimonialsSlider=document.querySelector(".testimonials__videos");let currentTestimonialsCard=0,testimonialsInitialPosition="translateX(0)",isTestimonialsClicked=!1,testimonialsFinishPosition=0,testimonialsStartPosition=0,testimonialsPosX=0;function testimonialsPreviousCard(){if(0!==currentTestimonialsCard)for(currentTestimonialsCard--,testimonialsInitialPosition=`translateX(-${currentTestimonialsCard}00%)`,i=0;i<testimonialsCards.length;i++)testimonialsCards[i].style.transform=`translateX(-${currentTestimonialsCard}00%)`}function testimonialsNextCard(){if(!(currentTestimonialsCard>=testimonialsCards.length-cardsOnPage))for(currentTestimonialsCard++,testimonialsInitialPosition=`translateX(-${currentTestimonialsCard}00%)`,i=0;i<testimonialsCards.length;i++)testimonialsCards[i].style.transform=`translateX(-${currentTestimonialsCard}00%)`}function testimonialsSliderFunction(){if(testimonialsFinishPosition-=testimonialsPosX,0===currentTestimonialsCard||currentTestimonialsCard===testimonialsCards.length-cardsOnPage)for(i=0;i<testimonialsCards.length;i++)testimonialsCards[i].style.transform=testimonialsInitialPosition;if(0!==testimonialsPosX)if(100<testimonialsFinishPosition)testimonialsNextCard();else if(testimonialsFinishPosition<-100)testimonialsPreviousCard();else for(i=0;i<testimonialsCards.length;i++)testimonialsCards[i].style.transform=testimonialsInitialPosition;isTestimonialsClicked=!1,testimonialsFinishPosition=0,testimonialsPosX=0}function testimonialsMoveFunction(){if(isTestimonialsClicked&&(testimonialsCW=testimonialsSlider.offsetWidth,p=100*(currentTestimonialsCard+(testimonialsFinishPosition-testimonialsPosX)/testimonialsCW),currentTestimonialsCard<testimonialsCards.length))for(i=0;i<testimonialsCards.length;i++)0<p?testimonialsCards[i].style.transform=`translateX(-${p}%)`:testimonialsCards[i].style.transform=`translateX(${-p}%)`}testimonialsSlider.addEventListener("mousedown",function(o){testimonialsFinishPosition=o.pageX,isTestimonialsClicked=!0}),testimonialsSlider.addEventListener("touchstart",function(o){testimonialsFinishPosition=o.touches[0].pageX,isTestimonialsClicked=!0}),testimonialsSlider.addEventListener("mousemove",function(o){testimonialsPosX=o.pageX,testimonialsMoveFunction()}),testimonialsSlider.addEventListener("touchmove",function(o){testimonialsPosX=o.touches[0].pageX,testimonialsMoveFunction()}),testimonialsSlider.addEventListener("mouseup",function(o){isTestimonialsClicked=!1,testimonialsSliderFunction()}),testimonialsSlider.addEventListener("touchend",function(o){isTestimonialsClicked=!1,testimonialsSliderFunction()});